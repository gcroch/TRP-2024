(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{7003:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn",function(){return r(6863)}])},6863:function(e,t,r){"use strict";r.r(t);var l=r(5893),s=r(1664),n=r.n(s),o=r(7294),a=r(9469),i=r(1176),c=r(6131),d=r(9413),u=r(8703),x=r(1163),b=r(2420),f=r(1017),h=r(8315);let p=(e,t)=>{let r=Math.floor(t/4),l=h.D.flatMap(e=>e.tiles).findIndex(t=>t===e);return l<r?"COMPLETE":l>r?"LOCKED":"ACTIVE"},j=e=>{let{tileType:t,status:r}=e;switch(t){case"star":return"COMPLETE"===r?(0,l.jsx)(a.uo,{}):"ACTIVE"===r?(0,l.jsx)(a.Uh,{}):(0,l.jsx)(a.w7,{});case"book":return"COMPLETE"===r?(0,l.jsx)(a.bg,{}):"ACTIVE"===r?(0,l.jsx)(a.X1,{}):(0,l.jsx)(a.hw,{});case"dumbbell":return"COMPLETE"===r?(0,l.jsx)(a.c6,{}):"ACTIVE"===r?(0,l.jsx)(a.PV,{}):(0,l.jsx)(a.kM,{});case"fast-forward":return"COMPLETE"===r?(0,l.jsx)(a.uo,{}):"ACTIVE"===r?(0,l.jsx)(a.Uh,{}):(0,l.jsx)(a.hG,{});case"treasure":return"COMPLETE"===r?(0,l.jsx)(a.Vk,{}):"ACTIVE"===r?(0,l.jsx)(a.Yh,{}):(0,l.jsx)(a.Yy,{});case"trophy":return"COMPLETE"===r?(0,l.jsx)(a.Jj,{}):"ACTIVE"===r?(0,l.jsx)(a.XD,{}):(0,l.jsx)(a.Pz,{})}},m=["left-0","left-[-45px]","left-[-70px]","left-[-45px]","left-0","left-[45px]","left-[70px]","left-[45px]"],g=e=>{var t;let{index:r,unitNumber:l,tilesLength:s}=e;if(r>=s-1)return"left-0";let n=l%2==1?m:[...m.slice(4),...m.slice(0,4)];return null!==(t=n[r%n.length])&&void 0!==t?t:"left-0"},w=[140,95,70,95,140,185,210,185],C=e=>{var t;let{index:r,unitNumber:l,tilesLength:s}=e;if(r>=s-1)return w[0];let n=l%2==1?w:[...w.slice(4),...w.slice(0,4)];return null!==(t=n[r%n.length])&&void 0!==t?t:w[0]},y=e=>{let{tileType:t,status:r,defaultColors:l}=e;switch(r){case"LOCKED":if("fast-forward"===t)return l;return"border-[#b7b7b7] bg-[#e5e5e5]";case"COMPLETE":return"border-yellow-500 bg-yellow-400";case"ACTIVE":return l}},v=e=>{var t,r;let{selectedTile:s,index:a,unitNumber:i,tilesLength:c,description:d,status:u,closeTooltip:x}=e,b=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=e=>{var t;s===a&&((null===(t=b.current)||void 0===t?void 0:t.contains(e.target))||x())};return window.addEventListener("click",e,!0),()=>window.removeEventListener("click",e,!0)},[s,b,x,a]);let f=h.D.find(e=>e.unitNumber===i),p=null!==(t=null==f?void 0:f.backgroundColor)&&void 0!==t?t:"bg-green-500",j=null!==(r=null==f?void 0:f.textColor)&&void 0!==r?r:"text-green-500";return(0,l.jsx)("div",{className:["relative h-0 w-full",a===s?"":"invisible"].join(" "),ref:b,children:(0,l.jsxs)("div",{className:["absolute z-30 flex w-[300px] flex-col gap-4 rounded-xl p-4 font-bold transition-all duration-300","ACTIVE"===u?p:"LOCKED"===u?"border-2 border-gray-200 bg-gray-100":"bg-yellow-400",a===s?"top-4 scale-100":"-top-14 scale-0"].join(" "),style:{left:"calc(50% - 150px)"},children:[(0,l.jsx)("div",{className:["absolute left-[140px] top-[-8px] h-4 w-4 rotate-45","ACTIVE"===u?p:"LOCKED"===u?"border-l-2 border-t-2 border-gray-200 bg-gray-100":"bg-yellow-400"].join(" "),style:{left:C({index:a,unitNumber:i,tilesLength:c})}}),(0,l.jsx)("div",{className:["text-lg","ACTIVE"===u?"text-white":"LOCKED"===u?"text-gray-400":"text-yellow-600"].join(" "),children:d}),"ACTIVE"===u?(0,l.jsx)(n(),{href:"/lesson",className:["flex w-full items-center justify-center rounded-xl border-b-4 border-gray-200 bg-white p-3 uppercase",j].join(" "),children:"Start +10 XP"}):"LOCKED"===u?(0,l.jsx)("button",{className:"w-full rounded-xl bg-gray-200 p-3 uppercase text-gray-400",disabled:!0,children:"Locked"}):(0,l.jsx)(n(),{href:"/lesson",className:"flex w-full items-center justify-center rounded-xl border-b-4 border-yellow-200 bg-white p-3 uppercase text-yellow-400",children:"Practice +5 XP"})]})})},E=e=>{let{unit:t}=e,r=(0,x.useRouter)(),[s,n]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=()=>n(null);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let a=(0,o.useCallback)(()=>n(null),[]),i=(0,f.w)(e=>e.lessonsCompleted),c=(0,f.w)(e=>e.increaseLessonsCompleted),d=(0,f.w)(e=>e.increaseLingots);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k,{unitNumber:t.unitNumber,description:t.description,backgroundColor:t.backgroundColor,borderColor:t.borderColor}),(0,l.jsx)("div",{className:"relative mb-8 mt-[67px] flex max-w-2xl flex-col items-center gap-4",children:t.tiles.map((e,u)=>{let x=p(e,i);return(0,l.jsxs)(o.Fragment,{children:[(()=>{switch(e.type){case"star":case"book":case"dumbbell":case"trophy":case"fast-forward":if("trophy"===e.type&&"COMPLETE"===x)return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(j,{tileType:e.type,status:x}),(0,l.jsx)("div",{className:"absolute left-0 right-0 top-6 flex justify-center text-lg font-bold text-yellow-700",children:t.unitNumber})]});return(0,l.jsxs)("div",{className:["relative -mb-4 h-[93px] w-[98px]",g({index:u,unitNumber:t.unitNumber,tilesLength:t.tiles.length})].join(" "),children:["fast-forward"===e.type&&"LOCKED"===x?(0,l.jsx)(L,{text:"Jump here?",textColor:t.textColor}):s!==u&&"ACTIVE"===x?(0,l.jsx)(L,{text:"Start",textColor:t.textColor}):null,(0,l.jsx)(T,{lessonsCompleted:i,status:x}),(0,l.jsxs)("button",{className:["absolute m-3 rounded-full border-b-8 p-4",y({tileType:e.type,status:x,defaultColors:"".concat(t.borderColor," ").concat(t.backgroundColor)})].join(" "),onClick:()=>{if("fast-forward"===e.type&&"LOCKED"===x){r.push("/lesson?fast-forward=".concat(t.unitNumber));return}n(u)},children:[(0,l.jsx)(j,{tileType:e.type,status:x}),(0,l.jsx)("span",{className:"sr-only",children:"Show lesson"})]})]});case"treasure":return(0,l.jsxs)("div",{className:["relative -mb-4",g({index:u,unitNumber:t.unitNumber,tilesLength:t.tiles.length})].join(" "),onClick:()=>{"ACTIVE"===x&&(c(4),d(1))},role:"button",tabIndex:"ACTIVE"===x?0:void 0,"aria-hidden":"ACTIVE"!==x,"aria-label":"ACTIVE"===x?"Collect reward":"",children:["ACTIVE"===x&&(0,l.jsx)(L,{text:"Open",textColor:"text-yellow-400"}),(0,l.jsx)(j,{tileType:e.type,status:x})]})}})(),(0,l.jsx)(v,{selectedTile:s,index:u,unitNumber:t.unitNumber,tilesLength:t.tiles.length,description:(()=>{switch(e.type){case"book":case"dumbbell":case"star":return e.description;case"fast-forward":return"LOCKED"===x?"Jump here?":e.description;case"trophy":return"Unit ".concat(t.unitNumber," review");case"treasure":return""}})(),status:x,closeTooltip:a})]},u)})})]})},N=e=>{var t,r;let l={backgroundColor:"bg-[#58cc02]",borderColor:"border-[#46a302]"};return e<680?l:e<1830?null!==(t=h.D[1])&&void 0!==t?t:l:null!==(r=h.D[2])&&void 0!==r?r:l};t.default=()=>{let{loginScreenState:e,setLoginScreenState:t}=(0,b.rJ)(),[r,s]=(0,o.useState)(0);(0,o.useEffect)(()=>{let e=()=>{var e;return s(null!==(e=globalThis.scrollY)&&void 0!==e?e:r)};return e(),document.addEventListener("scroll",e),()=>document.removeEventListener("scroll",e)},[r]);let x=N(r);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.D,{backgroundColor:x.backgroundColor,borderColor:x.borderColor}),(0,l.jsx)(u._,{selectedTab:"Learn"}),(0,l.jsxs)("div",{className:"flex justify-center gap-3 pt-14 sm:p-6 sm:pt-10 md:ml-24 lg:ml-64 lg:gap-12",children:[(0,l.jsxs)("div",{className:"flex max-w-2xl grow flex-col",children:[h.D.map(e=>(0,l.jsx)(E,{unit:e},e.unitNumber)),(0,l.jsxs)("div",{className:"sticky bottom-28 left-0 right-0 flex items-end justify-between",children:[(0,l.jsxs)(n(),{href:"/lesson?practice",className:"absolute left-4 flex h-16 w-16 items-center justify-center rounded-full border-2 border-b-4 border-gray-200 bg-white transition hover:bg-gray-50 hover:brightness-90 md:left-0",children:[(0,l.jsx)("span",{className:"sr-only",children:"Practice exercise"}),(0,l.jsx)(a.MW,{className:"h-8 w-8"})]}),r>100&&(0,l.jsxs)("button",{className:"absolute right-4 flex h-14 w-14 items-center justify-center self-end rounded-2xl border-2 border-b-4 border-gray-200 bg-white transition hover:bg-gray-50 hover:brightness-90 md:right-0",onClick:()=>scrollTo(0,0),children:[(0,l.jsx)("span",{className:"sr-only",children:"Jump to top"}),(0,l.jsx)(a.MQ,{})]})]})]}),(0,l.jsx)(d.U,{})]}),(0,l.jsx)("div",{className:"pt-[90px]"}),(0,l.jsx)(c._,{selectedTab:"Learn"}),(0,l.jsx)(b.cf,{loginScreenState:e,setLoginScreenState:t})]})};let T=e=>{let{lessonsCompleted:t,status:r,style:s={}}=e;if("ACTIVE"!==r)return null;switch(t%4){case 0:return(0,l.jsx)(a.Ey,{style:s});case 1:return(0,l.jsx)(a.lX,{style:s});case 2:return(0,l.jsx)(a.lM,{style:s});case 3:return(0,l.jsx)(a.cI,{style:s});default:return null}},L=e=>{var t;let{text:r,textColor:s}=e,n=(0,o.useRef)(null),[a,i]=(0,o.useState)(72);return(0,o.useEffect)(()=>{var e,t;i(null!==(t=null===(e=n.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:a)},[null===(t=n.current)||void 0===t?void 0:t.clientWidth,a]),(0,l.jsxs)("div",{className:"absolute z-10 w-max animate-bounce rounded-lg border-2 border-gray-200 bg-white px-3 py-2 font-bold uppercase ".concat(s),style:{top:"-25%",left:"calc(50% - ".concat(a/2,"px)")},ref:n,children:[r,(0,l.jsx)("div",{className:"absolute h-3 w-3 rotate-45 border-b-2 border-r-2 border-gray-200 bg-white",style:{left:"calc(50% - 8px)",bottom:"-8px"}})]})},k=e=>{let{unitNumber:t,description:r,backgroundColor:s,borderColor:o}=e,i=(0,f.w)(e=>e.language);return(0,l.jsx)("article",{className:["max-w-2xl text-white sm:rounded-xl",s].join(" "),children:(0,l.jsxs)("header",{className:"flex items-center justify-between gap-4 p-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold",children:["Unit ",t]}),(0,l.jsx)("p",{className:"text-lg",children:r})]}),(0,l.jsxs)(n(),{href:"https://duolingo.com/guidebook/".concat(i.code,"/").concat(t),className:["flex items-center gap-3 rounded-2xl border-2 border-b-4 p-3 transition hover:text-gray-100",o].join(" "),children:[(0,l.jsx)(a.D0,{}),(0,l.jsx)("span",{className:"sr-only font-bold uppercase lg:not-sr-only",children:"Guidebook"})]})]})})}}},function(e){e.O(0,[519,724,703,127,413,888,774,179],function(){return e(e.s=7003)}),_N_E=e.O()}]);